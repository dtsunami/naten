# n8n Docker Stack Environment Configuration
# All secrets and configuration in one place

DB_USER=db_user

# =============================================================================
# n8n Core Configuration
# =============================================================================
N8N_HOST=0.0.0.0
N8N_PORT=5678
N8N_PROTOCOL=http
WEBHOOK_URL=http://localhost:5678
GENERIC_TIMEZONE=America/Los_Angeles
TZ=America/Los_Angeles

# n8n Security and Authentication
N8N_ENCRYPTION_KEY=EncryptionKey
N8N_LICENSE_ACTIVATION_KEY=None
N8N_SECURE_COOKIE=false
N8N_USER_MANAGEMENT_DISABLED=true
N8N_PERSONALIZATION_ENABLED=false

# n8n Features and Behavior
N8N_METRICS=true
N8N_DIAGNOSTICS_ENABLED=false
N8N_VERSION_NOTIFICATIONS_ENABLED=false
N8N_TEMPLATES_ENABLED=false
EXTERNAL_FRONTEND_HOOKS_URLS=""
N8N_DIAGNOSTICS_CONFIG_FRONTEND=""
N8N_DIAGNOSTICS_CONFIG_BACKEND=""
N8N_RUNNERS_ENABLED=true
OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS=true
N8N_BLOCK_ENV_ACCESS_IN_NODE=false
N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true

# n8n Logging
N8N_LOG_OUTPUT=console,file
N8N_LOG_FILE=n8n.log
N8N_LOG_LEVEL=info

# n8n Queue Configuration
QUEUE_HEALTH_CHECK_ACTIVE=true

# =============================================================================
# Database Configuration
# =============================================================================

# Main PostgreSQL Database (n8n workflows)
DB_POSTGRESDB_HOST=pgn8n
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_DATABASE=orenco_workflows
DB_POSTGRESDB_USER=$DB_USER
DB_POSTGRESDB_PASSWORD=None
DB_POSTGRESDB_EXTERNAL_PORT=5432

# Vector Database PostgreSQL
VECTOR_DB_HOST=pgvect
VECTOR_DB_PORT=5432
VECTOR_DB_DATABASE=orenco_vectors
VECTOR_DB_USER=$DB_USER
VECTOR_DB_PASSWORD=None
VECTOR_DB_EXTERNAL_PORT=5433

# Chat Memory PostgreSQL
CHAT_DB_HOST=pgchat
CHAT_DB_PORT=5432
CHAT_DB_DATABASE=orenco_chatmemory
CHAT_DB_USER=$DB_USER
CHAT_DB_PASSWORD=None
CHAT_DB_EXTERNAL_PORT=5434

# Redis Configuration
REDIS_HOST=redisn8n
REDIS_PORT=6379
REDIS_EXTERNAL_PORT=6379

# MongoDB Configuration
MONGO_HOST=mongo
MONGO_PORT=27017
MONGO_USER=$DB_USER
MONGO_PASSWORD=None
MONGO_DATABASE=orenco_pydantic
MONGO_EXTERNAL_PORT=27017
MONGO_URI=mongodb://${DB_USER}:None@mongo:27017/orenco_pydantic?authSource=admin

# =============================================================================
# MCP Server Configuration
# =============================================================================

# FileIO MCP Server
FILEIO_BASE_PATH=/cwd
FILEIO_ALLOWED_DIRS=ingress,wip,completed
FILEIO_HOST=0.0.0.0
FILEIO_PORT=8000
FILEIO_MAX_FILE_SIZE=10485760
FILEIO_VOLUME_SOURCE=./work
FILEIO_VOLUME_MODE=rw
FILEIO_EXTERNAL_PORT=3456

# ToolSession MCP Server
TOOLSESSION_HOST=0.0.0.0
TOOLSESSION_PORT=8002
TOOLSESSION_TOOL_NAME=python
TOOLSESSION_LAUNCH_COMMAND=python3 -i -u
TOOLSESSION_PROMPT_STRING=>>>
TOOLSESSION_WORKING_DIRECTORY=/work
TOOLSESSION_TIMEOUT=120
TOOLSESSION_EXTERNAL_PORT=8002

# MCP Gateway
MCP_GATEWAY_PORT=8080

# Dashboard
DASHBOARD_PORT=8090

# Search MCP Server
SEARCH_PORT=8003
MONGO_MCP_PORT=8004

